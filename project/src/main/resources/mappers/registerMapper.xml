<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.model.UserRepository">

	<!-- 회원가입 -->
	<insert id="registerUser"
		parameterType="com.example.model.vo.CustomerVO">
		INSERT INTO customer(
		role,customer_id, name, pwd, phone, email, addr, admin_bnum, reg_date)
		VALUES(
		#{role},
		#{customer_id},
		#{name},
		#{pwd},
		#{phone},
		#{email, jdbcType=VARCHAR},
		#{addr, jdbcType=VARCHAR},
		#{admin_bnum, jdbcType=NUMERIC},
		SYSDATE
		)
	</insert>

	<!-- 아이디 중복 체크 -->
	<select id="checkId" parameterType="string" resultType="int">
		SELECT
		COUNT(*) FROM customer
		WHERE customer_id = #{customer_id}
	</select>

	<!--  회원 삭제(탈퇴) -->
	<delete id="deleteById" parameterType="string">
		DELETE FROM customer 
		WHERE customer_id = #{customer_id}
	</delete>
	
	<!--  회원정보 수정 -->
	<update id="updateUser" parameterType="com.example.model.vo.CustomerVO">
		UPDATE customer
		SET name = #{name}
			,pwd = #{pwd}
			,phone = #{phone}
			,email = #{email}
			,addr = #{addr}
		WHERE customer_id = #{customer_id}
	</update>
	
	<!--  회원 조회 -->
	<select id="selectAllById" parameterType="String" resultType="com.example.model.vo.CustomerVO">
		SELECT *
		FROM customer
		WHERE customer_id = #{customer_id}
	</select>
	




</mapper>